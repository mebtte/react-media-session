(this["webpackJsonpreact-media-session-example"]=this["webpackJsonpreact-media-session-example"]||[]).push([[0],{11:function(e,n,t){e.exports=t(20)},20:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(4),i=t.n(c),o=t(10),u=window&&window.navigator&&"mediaSession"in window.navigator;var s=function(e){var n=e.children;return function(e){var n=e.title,t=void 0===n?"":n,r=e.artist,c=void 0===r?"":r,i=e.album,o=void 0===i?"":i,u=e.artwork,s=void 0===u?[]:u,l=e.onPlay,f=e.onPause,d=e.onSeekBackward,m=e.onSeekForward,b=e.onPreviousTrack,p=e.onNextTrack,k=navigator.mediaSession;Object(a.useEffect)((function(){return k.metadata=new MediaMetadata({title:t,artist:c,album:o,artwork:s}),function(){k.metadata=null}}),[t,c,o,s]),Object(a.useEffect)((function(){return k.setActionHandler("play",l),function(){k.setActionHandler("play",null)}}),[l]),Object(a.useEffect)((function(){return k.setActionHandler("pause",f),function(){k.setActionHandler("pause",null)}}),[f]),Object(a.useEffect)((function(){return k.setActionHandler("seekbackward",d),function(){k.setActionHandler("seekbackward",null)}}),[d]),Object(a.useEffect)((function(){return k.setActionHandler("seekforward",m),function(){k.setActionHandler("seekforward",null)}}),[m]),Object(a.useEffect)((function(){return k.setActionHandler("previoustrack",b),function(){k.setActionHandler("previoustrack",null)}}),[b]),Object(a.useEffect)((function(){return k.setActionHandler("nexttrack",p),function(){k.setActionHandler("nexttrack",null)}}),[p])}(function(e,n){if(null==e)return{};var t,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)t=c[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,["children"])),r.a.createElement(a.Fragment,null,n||null)},l=function(e){return u?r.a.createElement(s,Object.assign({},e)):r.a.createElement(a.Fragment,null,e.children||null)},f=[{id:3,cover:"./source/ed85fe0f62133846c51abd31f4f87811.jpeg",singers:["\u5b59\u76db\u5e0c"],name:"Someday or One Day",album:"\u60f3\u89c1\u4f60",src:"./source/\u5b59\u76db\u5e0c - Someday or One Day.m4a"},{id:2,cover:"./source/d0c670fed000d3330cf26f704b4e7a86.jpeg",singers:["Cailin Russo","Chrissy Costanza"],name:"Phoenix",album:"Phoenix",src:"./source/Cailin Russo,Chrissy Costanza - Phoenix.m4a"},{id:1,cover:"./source/b5d358e6c54c15bf0d80ad288aba377b.jpeg",singers:["\u9648\u857e"],name:"\u5f53\u6211\u8ff7\u5931\u65f6\u542c\u7740\u7684\u6b4c",album:"\u5f53\u6211\u8ff7\u5931\u65f6\u542c\u7740\u7684\u6b4c",src:"./source/\u9648\u857e - \u5f53\u6211\u8ff7\u5931\u65f6\u542c\u7740\u7684\u6b4c.mp3"}],d=t(5);function m(){var e=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  padding: 10px;\n  background-color: ",";\n  > .cover {\n    width: 60px;\n    height: 60px;\n  }\n  > .info {\n    flex: 1;\n    min-width: 0;\n    margin-left: 20px;\n    > .name {\n      font-size: 14px;\n    }\n    > .singers {\n      font-size: 12px;\n      color: gray;\n    }\n  }\n"]);return m=function(){return e},e}var b=t(6).a.div(m(),(function(e){return e.playing?"rgba(49, 194, 124, 0.2)":"white"})),p=function(e){var n=e.music,t=e.playing,a=e.onPlay;return r.a.createElement(b,{playing:t},r.a.createElement("img",{src:n.cover,alt:"cover",className:"cover"}),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"name"},n.name),r.a.createElement("div",{className:"singers"},n.singers.join(",")),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{type:"button",onClick:function(){return a(n)}},t?"playing":"play"))))},k={width:"100%",margin:"20px 0"},v=function(){var e=Object(a.useState)(0),n=Object(o.a)(e,2),t=n[0],c=n[1],i=Object(a.useRef)(),u=Object(a.useCallback)((function(){return i.current.play()}),[]),s=Object(a.useCallback)((function(){return i.current.pause()}),[]),d=Object(a.useCallback)((function(){i.current.currentTime-=10}),[]),m=Object(a.useCallback)((function(){i.current.currentTime+=10}),[]),b=Object(a.useCallback)((function(){return c((function(e){var n=e-1;return n<0?n+f.length:n}))}),[]),v=Object(a.useCallback)((function(){return c((function(e){return(e+1)%f.length}))}),[]),g=f[t];return r.a.createElement(l,{title:g.name,artist:g.singers.join(","),artwork:[{src:g.cover,sizes:"512x512"}],album:g.album,onPlay:u,onPause:s,onSeekBackward:d,onSeekForward:m,onPreviousTrack:b,onNextTrack:v},r.a.createElement("div",{className:"music-list"},f.map((function(e,n){return r.a.createElement(p,{key:e.id,music:e,playing:n===t,onPlay:function(){return c(n)}})}))),r.a.createElement("audio",{src:g.src,controls:!0,autoPlay:!0,loop:!0,ref:i,style:k}))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.aca27591.chunk.js.map